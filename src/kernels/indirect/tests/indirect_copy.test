#define INDIRECT_COPY_DRIVER(SHFSZ, ILP, IDX_PATTERN) uncoalesced_reuse_general_single_ ## SHFSZ ## _ ## ILP ## _ ## IDX_PATTERN ## _driver

#define INDIRECT_COPY(SHFSZ, ILP, IDX_PATTERN) { MicrobenchmarkDriver<IndirectCopyContext<vt, it, SHFSZ, ILP, IDX_PATTERN>> \
      INDIRECT_COPY_DRIVER(SHFSZ, ILP, IDX_PATTERN)(N, bs_vec, output_dir+ XSTRINGIFY( INDIRECT_COPY_DRIVER(SHFSZ, ILP, IDX_PATTERN) ) ".csv", &dev_ctx, true); \
    if (!INDIRECT_COPY_DRIVER(SHFSZ, ILP, IDX_PATTERN).check_then_run_kernels()) {return -1;}  \
    total_runs += INDIRECT_COPY_DRIVER(SHFSZ, ILP, IDX_PATTERN).get_total_runs(); }

    INDIRECT_COPY(1024, 1, UNCOALESCED_SHUFFLESZ);
    INDIRECT_COPY(1024, 1, UNCOALESCED_SHUFFLESZ_NO_BANK_CONFLICTS);
    INDIRECT_COPY(1024, 2, UNCOALESCED_SHUFFLESZ);
    INDIRECT_COPY(1024, 2, UNCOALESCED_SHUFFLESZ_NO_BANK_CONFLICTS);
    INDIRECT_COPY(1024, 4, UNCOALESCED_SHUFFLESZ);
    INDIRECT_COPY(1024, 4, UNCOALESCED_SHUFFLESZ_NO_BANK_CONFLICTS);
    INDIRECT_COPY(1024, 8, UNCOALESCED_SHUFFLESZ);
    INDIRECT_COPY(1024, 8, UNCOALESCED_SHUFFLESZ_NO_BANK_CONFLICTS);

    INDIRECT_COPY(2048, 4, UNCOALESCED_SHUFFLESZ);
    INDIRECT_COPY(2048, 4, UNCOALESCED_SHUFFLESZ_NO_BANK_CONFLICTS);

    INDIRECT_COPY(4096, 4, UNCOALESCED_SHUFFLESZ);
    INDIRECT_COPY(4096, 4, UNCOALESCED_SHUFFLESZ_NO_BANK_CONFLICTS);


    INDIRECT_COPY(8192, 1, UNCOALESCED_SHUFFLESZ);
    INDIRECT_COPY(8192, 1, UNCOALESCED_SHUFFLESZ_NO_BANK_CONFLICTS);
    INDIRECT_COPY(8192, 2, UNCOALESCED_SHUFFLESZ);
    INDIRECT_COPY(8192, 2, UNCOALESCED_SHUFFLESZ_NO_BANK_CONFLICTS);
    INDIRECT_COPY(8192, 4, UNCOALESCED_SHUFFLESZ);
    INDIRECT_COPY(8192, 4, UNCOALESCED_SHUFFLESZ_NO_BANK_CONFLICTS);
    INDIRECT_COPY(8192, 8, UNCOALESCED_SHUFFLESZ);
    INDIRECT_COPY(8192, 8, UNCOALESCED_SHUFFLESZ_NO_BANK_CONFLICTS);

    INDIRECT_COPY(16384, 4, UNCOALESCED_SHUFFLESZ);
    INDIRECT_COPY(16384, 4, UNCOALESCED_SHUFFLESZ_NO_BANK_CONFLICTS);

    INDIRECT_COPY(32768, 4, UNCOALESCED_SHUFFLESZ);
    INDIRECT_COPY(32768, 4, UNCOALESCED_SHUFFLESZ_NO_BANK_CONFLICTS);

    INDIRECT_COPY(65536, 1, UNCOALESCED_SHUFFLESZ);
    INDIRECT_COPY(65536, 1, UNCOALESCED_SHUFFLESZ_NO_BANK_CONFLICTS);
    INDIRECT_COPY(65536, 2, UNCOALESCED_SHUFFLESZ);
    INDIRECT_COPY(65536, 2, UNCOALESCED_SHUFFLESZ_NO_BANK_CONFLICTS);
    INDIRECT_COPY(65536, 4, UNCOALESCED_SHUFFLESZ);
    INDIRECT_COPY(65536, 4, UNCOALESCED_SHUFFLESZ_NO_BANK_CONFLICTS);
    INDIRECT_COPY(65536, 8, UNCOALESCED_SHUFFLESZ);
    INDIRECT_COPY(65536, 8, UNCOALESCED_SHUFFLESZ_NO_BANK_CONFLICTS);

    INDIRECT_COPY(131072, 4, UNCOALESCED_SHUFFLESZ);
    INDIRECT_COPY(131072, 4, UNCOALESCED_SHUFFLESZ_NO_BANK_CONFLICTS);

    INDIRECT_COPY(262144, 1, UNCOALESCED_SHUFFLESZ);
    INDIRECT_COPY(262144, 1, UNCOALESCED_SHUFFLESZ_NO_BANK_CONFLICTS);
    INDIRECT_COPY(262144, 2, UNCOALESCED_SHUFFLESZ);
    INDIRECT_COPY(262144, 2, UNCOALESCED_SHUFFLESZ_NO_BANK_CONFLICTS);
    INDIRECT_COPY(262144, 4, UNCOALESCED_SHUFFLESZ);
    INDIRECT_COPY(262144, 4, UNCOALESCED_SHUFFLESZ_NO_BANK_CONFLICTS);
    INDIRECT_COPY(262144, 8, UNCOALESCED_SHUFFLESZ);
    INDIRECT_COPY(262144, 8, UNCOALESCED_SHUFFLESZ_NO_BANK_CONFLICTS);

